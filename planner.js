const syllabus = {
    "AM": {
        "1": {
            "PARTIAL DIFFERENTIATION": {
                "Chain rule": false,
                "Differentiation of Implicit functions": false,
                "Exact differentials": false,
                "Maxima, Minima and saddle points": false,
                "Method of Lagrange multipliers": false,
                "Differentiation under Integral sign": false,
                "Jacobians and transformations of coordinates": false
            }
        },
        "2": {
            "Ordinary Differential Equations (ODE'S)": {
                "Basic Concepts": false,
                "Geometric Meaning of y'= Æ’(x, y)": false,
                "Direction Fields": false,
                "Euler's Method": false,
                "Separable ODEs": false,
                "Exact ODEs": false,
                "Integrating Factors": false,
                "Linear ODEs": false,
                "Bernoulli Equation": false,
                "Population Dynamics": false,
                "Orthogonal Trajectories": false,
                "Homogeneous Linear ODEs with Constant Coefficients": false,
                "Differential Operators": false,
                "Modeling of Free Oscillations of a Mass-Spring System": false,
                "Euler-Cauchy Equations": false,
                "Wronskian": false,
                "Nonhomogeneous ODEs": false,
                "Solution by Variation of Parameters": false,
                "Power Series Method for solution of ODEs": false,
                "Legendre Equation": false,
                "Legendre Polynomials": false,
                "Bessels Equation": false,
                "Bessels's functions Jn(x) and Yn(x)": false,
                "Gamma Function": false
            }
        },
        "3": {
            "Linear Algebra": {
                "Matrices and Determinants": false,
                "Gauss Elimination": false,
                "Linear Independence": false,
                "Rank of a Matrix": false,
                "Vector Space": false,
                "Solutions of Linear Systems": false,
                "Concept of Existence": false,
                "Uniqueness": false,
                "Determinants": false,
                "Cramer Rule": false,
                "Gauss-Jordan Elimination": false,
                "The Matrix Eigenvalue Problem": false,
                "Determining Eigenvalues and Eigenvectors": false,
                "Symmetric. Skew-Symmetric, Orthogonal Matrices": false,
                "Eigenbases": false,
                "Diagonalization": false,
                "Quadratic Forms": false,
                "Cayley-Hamilton Theorem": false
            }
        },
        "4": {
            "Vector Calculus": {
                "Vector and Scalar Functions and Their Fields": false,
                "Derivatives": false,
                "Curves": false,
                "Arc Length": false,
                "Curvature": false,
                "Torsion": false,
                "Gradient of a Scalar Field": false,
                "Directional Derivative": false,
                "Divergence of a Vector Field": false,
                "Curl of a Vector Field": false,
                "Line Integrals": false,
                "Path Independence of Line Integrals": false,
                "Double Integrals": false,
                "Green Theorem in the Plane": false,
                "Surfaces for Surface Integrals": false,
                "Surface Integrals": false,
                "Triple Integrals": false,
                "Stokes Theorem": false,
                "Divergence Theorem of Gauss": false
            }
        }
    },
    "AP": {
        "1": {
            "THERMODYNAMICS": {
                "Fundamental Ideas of Thermodynamics": false,
                "The Continuum Model": false,
                "System, State, Equilibrium, Process": false,
                "Equations of state": false,
                "Heat & Work": false,
                "Laws of Thermodynamics": false,
                "Carnot Engine": false,
                "entropy": false
            }
        },
        "2": {
            "Waves and Oscillations": {
                "Wave motion": false,
                "simple harmonic motion": false,
                "wave equation": false,
                "superposition principle": false
            },
            "Introduction to Electromagnetic Theory": {
                "Maxwell equations": false,
                "Work done by the electromagnetic field": false,
                "Poynting theorem": false,
                "Momentum": false,
                "Angular momentum in electromagnetic fields": false,
                "Electromagnetic waves": false,
                "the wave equation": false,
                "plane electromagnetic waves": false,
                "energy carried by electromagnetic waves": false
            }
            },
        "3": {
            "Interference by division of wave front": {
                "Youngs double slit experiment": false,
                "Fresnel biprism": false
            },
            "interference by division of amplitude": {
                "Thin films": false,
                "Newton's rings": false,
                "Michelson interferometer": false
            },
            "Coherence": {
                "Theory": false,
                "coherent sources": false
            }
        },
        "4": {
            "Theory of relativity": {
                "Michelson-Morley Experiment": false,
                "speed of light": false,
                "Absolute and Inertial frames of reference": false,
                "Galilean transformations": false,
                "postulates of the special theory of relativity": false,
                "Lorentz transformations": false,
                "time dilation": false,
                "length contraction": false,
                "velocity addition": false,
                "mass energy equivalence": false,
                "Invariance of Maxwell equations under Lorentz Transformation": false
            },
            "Introduction to Laser Physics": {
                "Introduction": false,
                "coherence": false,
                "Einstein A and B coefficients": false,
                "population inversion": false,
                "basic principle and operation of a laser": false,
                "He-Ne laser": false,
                "Ruby laser": false
            }
        }       
    },
    "ES": {
        "1": {
            "DC Circuits": {
                "Passive circuit components": false,
                "Basic laws of Electrical Engineering": false,
                "Temperature Resistance Coefficients": false,
                "voltage & current sources": false,
                "Series and parallel circuits": false,
                "power and energy": false,
                "Kirchhoff Laws": false,
                "Nodal & Mesh Analysis": false,
                "delta-star transformation": false,
                "superposition theorem": false,
                "Thevenin theorem": false,
                "Norton theorem": false,
                "maximum power transfer theorem": false,
                "Time domain analysis of first Order RC & LC circuits": false
            }
        }
        ,
        "2": {
            "AC Circuits": {
                "Representation of sin waveforms": false,
                "peak and rms values": false,
                "phasor representation": false,
                "real power": false,
                "reactive power": false,
                "apparent power": false,
                "power factor": false,
                "Single-phase ac circuits of RLC combinations(series & ||)": false,
                "resonance": false,
                "3 phase balanced circuits": false,
                "voltage and current relations in star and delta connections": false
            }
        },
        "3": {
            "D.C. Generators & Motors": {
                "Principle of operation of Generators & Motors": false,
                "Speed Control of shunt motors": false,
                "Flux control": false,
                "Rheostatic control": false,
                "voltage control": false,
                "Speed control of series motors": false
            },
            "A.C. Generators & Motors": {
                "Principle of operation": false,
                "Revolving Magnetic field": false,
                "Squirrel cage and phase wound rotor": false,
                "Starting of Induction motors": false,
                "Direct on line and Star Delta starters": false,
                "Synchronous machines": false
            }
        },
        "4": {
            "Transformers": {
                "Construction and principle of operation": false,
                "equivalent circuit": false,
                "losses in transformers": false,
                "regulation and efficiency": false,
                "Auto-transformer": false,
                "3-phase transformer connections": false
            },
            "Measuring Instruments": {
                "Electromagnetism": false,
                "Different Torques in Indicating instruments": false,
                "Moving Iron Instruments Construction and Principle": false,
                "Attraction-Repulsion type": false,
                "Moving Coil instruments Permanent Magnet type": false,
                "Dynamometer type Instruments": false
            }
        }
    },
    "MP": {
        "1": {
            "Manufacturing": {
                "definition": false,
                "importance": false,
                "classification": false,
                "properties of materials": false
            },
            "Casting": {
                "Sand casting": false,
                "Sand moulds": false,
                "Type of patterns": false,
                "Pattern materials": false,
                "Pattern allowances": false,
                "Types of Moulding sand & Properties": false,
                "Core making": false,
                "Elements of gating system": false,
                "Casting defects": false,
                "Description & Operation of cupola": false
            },
            "Special casting processes": {
                "Shell casting": false,
                "Pressure die casting": false,
                "Centrifugal casting": false
            }
        },
        "2": {
            "Welding": {
                "principles": false,
                "classification": false,
                "Fusion welding": false,
                "Gas welding": false,
                "Equipments used": false,
                "Filler and Flux materials": false,
                "Electric arc welding": false,
                "Gas metal arc welding": false,
                "Submerged arc welding": false,
                "Electro slag welding": false,
                "TIG and MIG welding process": false,
                "resistance welding": false,
                "welding defects": false
            }
        },
        "3": {
            "Deformation Processes": {
                "Hot working and cold working of metals": false,
                "Forging processes": false,
                "Open and closed die forging process": false,
                "Typical forging operations": false,
                "Rolling of metals": false,
                "Principle of rod and wire drawing": false,
                "Tube drawing": false,
                "Principle & Types of Extrusion": false},
            "Sheet metal characteristics": {
                "Typical shearing operations": false,
                "bending and drawing operations": false,
                "Stretch forming operations": false,
                "Metal spinning": false
            }
        },
        "4": {
            "Powder Metallurgy": {
                "Introduction of powder metallurgy process": false,
                "powder production": false,
                "blending": false,
                "compaction": false,
                "sintering": false
            },
            "Manufacturing of Plastic Components": {
                "Types of plastics": false,
                "Characteristics of forming & shaping": false
            },
            "Moulding of Thermoplastics": {
                "Injection": false,
                "blow": false,
                "rotational": false,
                "film blowing": false,
                "extrusion": false,
                "thermoforming": false
            },
            "Thermosets":{
                "Moulding -- Compression, Transfer": false,
                "Bonding of Thermoplastics": false
            }
        }
    },
    "AC": {
            "1": {
            "FUELS": {
                "Classification and Characteristics of fuels": false,
                "Calorific values": false,
                "Comparison b/w solid, liquid, gas fuels": false,
                "Bomb calorimeter": false,
                "Boys calorimeter": false,
                "Dulong Formula": false
            },
            "COAL": {
                "Proximate Analysis of coal": false,
                "Ultimate Analysis of coal and numericals": false,
                "Otto-Hoffman oven": false,
                "metallurgical coke": false
            },
            "PETROLEUM": {
                "Petroleum refining": false,
                "cracking-thermal and catalytic": false,
                "knocking characteristics": false,
                "Octane and Cetane rating": false
            },
            "GAS FUELS": {
                "Natural Gas": false,
                "CNG": false,
                "LPG": false,
                "Coal gas": false,
                "Oil gas": false,
                "Producer gas": false,
                "Water gas": false,
                "Combustion Numericals": false
            }
        },
            "2": {
            "PHASE RULE": {
                "Definition, Terms Used": false,
                "Water System": false,
                "Sulphur System": false,
                "Lead-Silver System": false,
                "Zinc-Magnesium System": false
            },
            "POLYMERS": {
                "Classification": false,
                "functionality": false,
                "types": false
            },
            "PLASTICS": {
                "Polyethylene Plastics (Addition polymers)": false,
                "low-density polyethene(LDPE)": false,
                "high-density polyethylene(HDPE)": false,
                "linear low density polyethylene(LLDPE)": false,
                "ultra-high molecular weight(UHMWPE)": false,
                "Condensation Polymers -- Nylons, Bakelite, Glyptal": false
            },
            "SPECIALITY POLYMERS": {
                "Engineering thermoplastics": false,
                "Conducting polymers": false,
                "Electroluminescent polymers": false,
                "liquid crystalline polymers": false,
                "biodegradable polymers": false
            }
        },
            "3": {
            "WATER": {
                "Introduction": false,
                "water quality standards": false,
                "physical, chemical, biological characteristics": false,
                "hardness of water": false,
                "disadvantages of hardness": false,
                "determination of hardness": false,
                "EDTA method": false,
                "Alkalinity and its determination": false
            },
            "BOILER PROBLEMS": {
                "Scale and sludge formation": false,
                "boiler corrosion": false,
                "caustic embrittlement": false,
                "priming": false,
                "foaming": false,
                "boiler water treatment internal or in-situ": false,
                "carbonate and phosphate conditioning": false,
                "colloidal and Calgon conditioning": false,
                "External Treatment -- Lime Soda, Zeolite, Ion-exchange": false
            },
            "MUNICIPAL WATER SUPPLY TREATMENT & DISINFECTION": {
                "break-point chlorination": false,
                "Desalination": false,
                "Reverse Osmosis": false,
                "Electrodialysis": false,
                "defluoridation of water": false
            }
        },
        "4": {
            "CORROSION": {
                "Definition & effects": false,
                "dry/chemical mechanism": false,
                "wet/electrochemical corrosion mechanism": false,
                "Pilling-Bedworth ratio": false,
                "Types -- Galvanic, Soil, Pitting, Stress, Differential Aeration": false,
                "Mechanism of rusting of iron": false,
                "Passivity": false,
                "Factors influencing corrosion": false,
                "galvanization": false,
                "tinning": false,
                "cathodic protection": false,
                "sacrificial anodic protection": false,
                "electroplating": false,
                "prevention through material selection and design": false
            },

            "GREEN CHEMISTRY": {
                "Twelve Principles of Green Chemistry": false,
                "Zero Waste Technology": false,
                "Atom economy": false,
                "Use of alternative feedstock": false,
                "innocuous reagents": false,
                "alternative solvents": false,
                "designing alternative reaction methodology": false,
                "minimising energy consumption": false,
            },

            "NANOMATERIALS": {
                "Properties": false,
                "synthesis": false,
                "BET and TEM": false,
                "applications": false
            }       
        }
    }
}

async function createList() {
    const data = await readData();
    const subjects = Object.keys(data);
    for (const subject in subjects) {
        const sub = document.createElement('button');
        sub.className = 'subject';
        sub.textContent = subjects[subject];
        const parent_div = document.getElementById('syllabus');
        parent_div.appendChild(sub);

        // const units = data[subjects[subject]];
        // for (let unit = 1; unit < 5; unit++) {
        //     console.log(document.getElementsByClassName('syllabus'));
        // }
        //
        // for(const unit in data[subject]){
        //     let topic = Object.keys(data[subject][unit]);
        //     console.log(subject, unit, topic);
        // }
        //
    }
}

// TODO : Subject --> Collapsible
// Unit : Rounded Box
// Topic : Heading (h2)
// Subtopic : Normal Size
function createList2(data, level) {
    if (level > 4) return;
    let html = "";
    for(key in data){
        if (typeof data[key] === "object" && data[key] !== null) {
            if (level === 1) html += "<button class='subject'>" + key + "</button>\n";
            else if(level == 3) {
                html += "<br><div class='topic'>" + key.toUpperCase() + "</div>";
        }
            html += createList2(data[key], level+1);
        }
        else{
            const words = key.split(" ").map(word => word[0].toUpperCase() + word.slice(1));
            const updated_key = words.join(" ");
            html += "<p id='" + updated_key + "'>" + updated_key +"</p>"
        }
    }
    if (level == 3) {
        html += "";
    }
    return html;
}

const html = createList2(syllabus, 1);
document.getElementById('syllabus').innerHTML = "<h1>Syllabus</h1>" + html;
